<dom-module id="fab-svg">
    <style>
        :host svg {
            width: 100%;
            height: 100%;
        }
    </style>
    <template>
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 710 400">
            <circle r="3" cx$="[[firstPoint.0]]" cy$="[[firstPoint.1]]" stroke="red" fill="red" />
            <path d$="[[d]]" fill="transparent" stroke="black" stroke-width="2"></path>
        </svg>
    </template>
</dom-module>
<script type="text/javascript">
    Polymer({
        is: 'fab-svg',
        properties: {
            points: {
                type: Array
            },
            surprise: {
                type: Boolean,
                value: true
            },
            firstPoint: {
                type: Object,
                value: [-10,-10]
            },
            d: {
                type: String,
                value: null,
                computed: 'computePathD(points)'
            }
        },
        computePathD (points) {
            let d = [];
            if (this.surprise || !points || points.length === 0) {
                return d.join(',');
            }
            points.forEach((point, index) => {
                if (index === 0) {
                    d.push(`M ${point[0]} ${point[1]}`);
                } else {
                    d.push(`L ${point[0]} ${point[1]}`);
                }
            })
            return d.join(', ');
        }
    })
</script>
